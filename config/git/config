# vim:ft=gitconfig

[alias]
    branches = branch -a
    count    = shortlog --summary --numbered
    cp       = cherrypick
    fc       = "!f() { git log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short -S$1; }; f" # Find commits by source code
    fm       = "!f() { git log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short --grep=$1; }; f" # Find commits by commit message
    rb       = rebase --interactive --autosquash
    remotes  = remote -v
    sta      = "!f() { git stash push --all --include-untracked --message=$1; }; f" # Stash everything
    standup  = log --since='yesterday' --author='Andrew Snelling'
    tags     = tag -l # Show verbose output about tags, branches or remotes
    undo     = reset --soft HEAD^1

[apply]
    whitespace = fix

[commit]
    template = ~/.config/git/gitcommit
    verbose  = true

[color]
    ui   = auto
    diff = true

[color "branch"]
    current = "#f7ca88 reverse"
    local   = "#f7ca88"
    remote  = "#a1b56c"

[color "diff"]
    meta = "#f7ca88 bold"
    frag = "#ba8baf bold"
    old  = "#ab4642 bold"
    new  = "#a1b56c bold"

[color "diff-highlight"]
    oldNormal    = "#ab4642 bold"
    oldHighlight = "#ab4642 bold 52"
    newNormal    = "#a1b56c bold"
    newHighlight = "#a1b56c bold 22"

[color "status"]
    added     = "#a1b56c"
    changed   = "#ab4642"
    untracked = "#86c1b9"

[core]
    excludesfile = ~/.config/git/gitignore_global
    editor       = nvim
    pager        = delta

[delta]
    features     = unobtrusive-line-numbers decorations
    hyperlinks   = true
    line-numbers = true
    map-styles   = "bold #a16946" => "syntax #ba8baf", "bold #86c1b9" => "syntax #7cafc2"
    navigate     = true
    side-by-side = true
    syntax-theme = base16

[delta "blame"]
    blame-code-style      = syntax
    blame-format          = {author:<15.14}
    blame-separator-style = "#ab4642"

[delta "decorations"]
    commit-decoration-style       = "bold #f7ca88 box ul"
    commit-style                  = raw
    file-style                    = "bold #f7ca88 ul"
    hunk-header-decoration-style  = "#7cafc2 box"
    hunk-header-file-style        = "#ab4642"
    hunk-header-line-number-style = "#a1b56c"
    hunk-header-style             = file line-number syntax

[delta "interactive"]
    keep-plus-minus-markers = false

[diff]
    colorMoved = default
    submodule  = log
    tool       = nvimdiff

[difftool]
    prompt = false

[difftool "nvimdiff"]
    cmd = "nvim -d \"$LOCAL\" \"$REMOTE\""

[ghq]
    root = ~/dev

[help]
    autocorrect = prompt

[init]
    defaultBranch = main

[interactive]
    diffFilter = delta --color-only --features=interactive

[merge]
    conflictstyle = diff3
    tool          = nvimmerge

[mergetool "nvimmerge"]
    cmd           = "nvim -d \"$LOCAL\" \"$REMOTE\" \"$MERGED\" -c '$wincmd w' -c 'wincmd J'"
    trustexitcode = true

[pager]
    status = true

[pull]
    rebase = true

[push]
    default = current

[rebase]
    autoSquash        = true
    autoStash         = true
    instructionFormat = format:%s (%cr) <%an> %G?

[status]
    short       = true
    branch      = true
    aheadBehind = true
    showStash   = true

[user]
    name  = snelling-a
    email = 72226000+snelling-a@users.noreply.github.com

[includeIf "gitdir:~/work/"]
    path = ./gitconfig_local
