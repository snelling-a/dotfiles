# vim: foldmethod=marker

# Base16 3024 ----------------------------------------------------------------------------------{{{
# https://github.com/tinted-theming/base16-tmux/blob/main/colors/base16-3024.conf
# Scheme author: Jan T. Sott (http://github.com/idleberg)
# Template author: Tinted Theming: (https://github.com/tinted-theming)

# default statusbar colors
set-option -g status-style "fg=#807d7c,bg=#3a3432"

# default window title colors
set-window-option -g window-status-style "fg=#807d7c,bg=default"

# active window title colors
set-window-option -g window-status-current-style "fg=#fded02,bg=default"

# pane border
set-option -g pane-border-style "fg=#3a3432"
set-option -g pane-active-border-style "fg=#4a4543"

# message text
set-option -g message-style "fg=#a5a2a2,bg=#3a3432"

# pane number display
set-option -g display-panes-active-colour "#01a252"
set-option -g display-panes-colour "#fded02"

# clock
set-window-option -g clock-mode-colour "#01a252"

# copy mode highlight
set-window-option -g mode-style "fg=#807d7c,bg=#4a4543"

# bell
set-window-option -g window-status-bell-style "fg=#3a3432,bg=#db2d20"

# }}}

# STATUS LINE ----------------------------------------------------------------------------------{{{
# Some tweaks to the status line
set -g status-right "%H:%M"
set -g window-status-current-style "underscore"

# Refresh 'status-left' and 'status-right' more often, from every 15s to 5s
set -g status-interval 5

# If running inside tmux ($TMUX is set), then change the status line to red
%if #{TMUX}
set -g status-bg red
%endif

# Increase tmux messages display duration from 750ms to 4s
set -g display-time 4000

# }}}

# WINDOWS/PANES -------------------------------------------------------------------------------{{{
# Super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on
# automatically renumber windows
set-option -g renumber-windows on

# Start numbering at 1
set -g base-index 1

bind-key C command-prompt -p "Name of new window: " "new-window -n '%%'"
# auto window rename
set-window-option -g automatic-rename

# set window split
bind-key v split-window -h -c "#{pane_current_path}"
bind-key s split-window -c "#{pane_current_path}"

# Easier and faster switching between next/prev window
bind C-p previous-window
bind C-n next-window

# hjkl pane traversal
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# A key to toggle between smallest and largest sizes if a window is visible in
# multiple places
bind F set -w window-size

#}}}

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
# set -s escape-time 0

# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000

# Focus events enabled for terminals that support them
set -g focus-events on

# Enable RGB colour if running in xterm(1)
set-option -sa terminal-overrides ",xterm*:Tc"

# Change the default $TERM to xterm-256color
# set -g default-terminal "xterm-256color"

# No bells at all
set -g bell-action none

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# Change the prefix key to C-a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Turn the mouse on, but without copy mode dragging
set -g mouse on
unbind -n MouseDrag1Pane
unbind -Tcopy-mode MouseDrag1Pane

# Keys to toggle monitoring activity in a window and the synchronize-panes option
bind m set monitor-activity
bind y set synchronize-panes\; display 'synchronize-panes #{?synchronize-panes,on,off}'

# undercurl in vim
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'

# Source .tmux.conf as suggested in `man tmux`
bind R source-file ~/.tmux.conf \; display-message "Config reloaded..."

set-option -sg escape-time 10
